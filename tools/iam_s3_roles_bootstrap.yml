---
iam_policies:
  yum_read_pol: >
    {
      "Statement": [
        {
          "Effect": "Allow",
          "Action": ["s3:ListBucket"],
          "Resource": ["arn:aws:s3:::smarter-{{ env }}-3p-yum-repo*"]
        },
        {
          "Effect": "Allow",
          "Action": ["s3:GetObject"],
          "Resource": ["arn:aws:s3:::smarter-{{ env }}-3p-yum-repo/*"]
        },
        {
          "Effect": "Allow",
          "Action": ["s3:ListBucket"],
          "Resource": ["arn:aws:s3:::smarter-{{ env }}-yum-repo*"]
        },
        {
          "Effect": "Allow",
          "Action": ["s3:GetObject"],
          "Resource": ["arn:aws:s3:::smarter-{{ env }}-yum-repo/*"]
        }
      ]
    }
  yum_write_pol: >
    {
      "Statement": [
        {
          "Effect": "Allow",
          "Action": ["s3:ListBucket"],
          "Resource": ["arn:aws:s3:::smarter-{{ env }}-3p-yum-repo*"]
        },
        {
          "Effect": "Allow",
          "Action": [
            "s3:GetObject",
            "s3:PutObject",
            "s3:DeleteObject"
           ],
          "Resource": ["arn:aws:s3:::smarter-{{ env }}-3p-yum-repo/*"]
        },
        {
          "Effect": "Allow",
          "Action": ["s3:ListBucket"],
          "Resource": ["arn:aws:s3:::smarter-{{ env }}-yum-repo*"]
        },
        {
          "Effect": "Allow",
          "Action": [
            "s3:GetObject",
            "s3:PutObject",
            "s3:DeleteObject"
           ],
          "Resource": ["arn:aws:s3:::smarter-{{ env }}-yum-repo/*"]
        }
      ]
    }
  gluster_ssl_read_pol: >
    {
      "Statement": [
        {
          "Effect": "Allow",
          "Action": ["s3:ListBucket"],
          "Resource": ["arn:aws:s3:::srl-{{ env }}-gluster-ssl"]
        },
        {
          "Effect": "Allow",
          "Action": ["s3:GetObject"],
          "Resource": ["arn:aws:s3:::srl-{{ env }}-gluster-ssl/*"]
        },
        {
          "Effect": "Allow",
          "Action": ["s3:ListBucket"],
          "Resource": ["arn:aws:s3:::smarter-{{ env }}-3p-yum-repo*"]
        },
        {
          "Effect": "Allow",
          "Action": ["s3:GetObject"],
          "Resource": ["arn:aws:s3:::smarter-{{ env }}-3p-yum-repo/*"]
        },
        {
          "Effect": "Allow",
          "Action": ["s3:ListBucket"],
          "Resource": ["arn:aws:s3:::smarter-{{ env }}-yum-repo*"]
        },
        {
          "Effect": "Allow",
          "Action": ["s3:GetObject"],
          "Resource": ["arn:aws:s3:::smarter-{{ env }}-yum-repo/*"]
        }
      ]
    }
  gluster_ssl_write_pol: >
    {
      "Statement": [
        {
          "Effect": "Allow",
          "Action": ["s3:ListBucket"],
          "Resource": ["arn:aws:s3:::srl-{{ env }}-gluster-ssl"]
        },
        {
          "Effect": "Allow",
          "Action": [
            "s3:GetObject",
            "s3:PutObject",
            "s3:DeleteObject"
           ],
          "Resource": ["arn:aws:s3:::srl-{{ env }}-gluster-ssl/*"]
        }
      ]
    }
  apache_ssl_read_pol: >
    {
      "Statement": [
        {
          "Effect": "Allow",
          "Action": ["s3:ListBucket"],
          "Resource": ["arn:aws:s3:::srl-{{ env }}-apache-internal-ssl"]
        },
        {
          "Effect": "Allow",
          "Action": ["s3:GetObject"],
          "Resource": ["arn:aws:s3:::srl-{{ env }}-apache-internal-ssl/*"]
        }
      ]
    }
  apache_ssl_write_pol: >
    {
      "Statement": [
        {
          "Effect": "Allow",
          "Action": ["s3:ListBucket"],
          "Resource": ["arn:aws:s3:::srl-{{ env }}-apache-internal-ssl"]
        },
        {
          "Effect": "Allow",
          "Action": [
            "s3:GetObject",
            "s3:PutObject",
            "s3:DeleteObject"
           ],
          "Resource": ["arn:aws:s3:::srl-{{ env }}-apache-internal-ssl/*"]
        }
      ]
    }

iam_roles:
  ansible_role:
    - yum_write_pol
    - gluster_ssl_write_pol
    - apache_ssl_write_pol
  nat_role:
    - yum_read_pol
  bind_role:
    - yum_read_pol

instance_profiles:
- name: ansible_profile
  iam_role: ansible_role
- name: nat_profile
  iam_role: nat_role
- name: bind_profile
  iam_role: bind_role
